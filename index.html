<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pirate Sublease â€” Find Your Place</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            background: #ffffff;
            color: #1d1d1f;
        }

        html {
            scroll-behavior: smooth;
        }

        .glass-nav {
            backdrop-filter: saturate(180%) blur(20px);
            background-color: rgba(255, 255, 255, 0.72);
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.1);
        }

        .listing-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .listing-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: #5B21B6;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 980px;
            font-weight: 500;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #4C1D95;
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(91, 33, 182, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: #5B21B6;
            padding: 0.75rem 1.5rem;
            border-radius: 980px;
            font-weight: 500;
            font-size: 1rem;
            border: 1.5px solid #5B21B6;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background: #5B21B6;
            color: white;
        }

        .nav-link {
            color: #1d1d1f;
            font-weight: 500;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .nav-link:hover {
            background: rgba(91, 33, 182, 0.1);
            color: #5B21B6;
        }

        .nav-link.active {
            color: #5B21B6;
        }

        input, select, textarea {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            border: 1.5px solid #e5e5e7;
            border-radius: 12px;
            padding: 0.875rem 1rem;
            font-size: 1rem;
            outline: none;
            width: 100%;
            background: #fbfbfd;
        }

        input:focus, select:focus, textarea:focus {
            border-color: #5B21B6;
            background: white;
            box-shadow: 0 0 0 4px rgba(91, 33, 182, 0.1);
        }

        .price-badge {
            font-size: 1.75rem;
            font-weight: 700;
            color: #5B21B6;
            letter-spacing: -0.02em;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .delay-100 { animation-delay: 0.1s; opacity: 0; }
        .delay-200 { animation-delay: 0.2s; opacity: 0; }
        .delay-300 { animation-delay: 0.3s; opacity: 0; }

        img {
            display: block;
            max-width: 100%;
            height: auto;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #5B21B6;
            border-radius: 10px;
        }

        .amenity-pill {
            display: inline-flex;
            align-items: center;
            padding: 0.375rem 0.875rem;
            background: #f5f5f7;
            border-radius: 980px;
            font-size: 0.875rem;
            font-weight: 500;
            color: #1d1d1f;
        }

        .pattern-bg {
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(91, 33, 182, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(91, 33, 182, 0.02) 0%, transparent 50%);
        }

        .faq-item {
            border-bottom: 1px solid #e5e5e7;
            padding: 1.5rem 0;
        }

        .faq-question {
            font-weight: 600;
            font-size: 1.125rem;
            color: #1d1d1f;
            margin-bottom: 0.75rem;
        }

        .faq-answer {
            color: #6b7280;
            line-height: 1.6;
        }
    </style>
</head>
<body class="pattern-bg">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const initialListings = [
            {
                id: 1,
                title: "Modern 2BR near Campus Edge",
                price: 450,
                address: "123 Campus Edge Dr",
                dateAvailable: "2026-05-15",
                dateEnd: "2026-08-15",
                bedrooms: 2,
                bathrooms: 2,
                amenities: ["Pool", "Gym", "Parking", "Furnished"],
                description: "Spacious apartment close to campus. Fully furnished with utilities included. Perfect for sublease!",
                contact: "john.doe@ecu.edu",
                phone: "(252) 555-0123",
                image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800&h=600&fit=crop",
                images: [],
                posted: "2026-02-01",
                verified: true
            },
            {
                id: 2,
                title: "Cozy Studio near Joyner Library",
                price: 550,
                address: "456 University Blvd",
                dateAvailable: "2026-06-01",
                dateEnd: "2026-07-31",
                bedrooms: 1,
                bathrooms: 1,
                amenities: ["WiFi", "Laundry", "Pet-friendly"],
                description: "Cozy studio perfect for one person. Walking distance to main campus. Pet-friendly building.",
                contact: "jane.smith@ecu.edu",
                phone: "(252) 555-0456",
                image: "https://images.unsplash.com/photo-1536376072261-38c75010e6c9?w=800&h=600&fit=crop",
                images: [],
                posted: "2026-02-05",
                verified: true
            },
            {
                id: 3,
                title: "Affordable Room in Shared House",
                price: 325,
                address: "789 College Hill Rd",
                dateAvailable: "2026-05-20",
                dateEnd: "2026-08-01",
                bedrooms: 1,
                bathrooms: 1,
                amenities: ["Parking", "Backyard", "WiFi"],
                description: "Private room in shared house with 3 other students. Great location, low price. Utilities split among roommates.",
                contact: "mike.jones@ecu.edu",
                phone: "(252) 555-0789",
                image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&h=600&fit=crop",
                images: [],
                posted: "2026-02-08",
                verified: true
            }
        ];

        function App() {
            const [listings, setListings] = useState(initialListings);
            const [view, setView] = useState('browse');
            const [selectedListing, setSelectedListing] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [priceFilter, setPriceFilter] = useState(1000);
            const [bedroomFilter, setBedroomFilter] = useState('any');

            // Chatbot states
            const [chatOpen, setChatOpen] = useState(false);
            const [chatMessages, setChatMessages] = useState([]);
            const [chatInput, setChatInput] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            const [hasGreeted, setHasGreeted] = useState(false);

            const [newListing, setNewListing] = useState({
                title: '',
                price: '',
                address: '',
                dateAvailable: '',
                dateEnd: '',
                bedrooms: 1,
                bathrooms: 1,
                amenities: [],
                description: '',
                contact: '',
                phone: '',
                ecuEmail: '', // Optional ECU email for verification
                image: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop',
                images: []
            });

            const amenityOptions = ["Pool", "Gym", "Parking", "Furnished", "WiFi", "Laundry", "Pet-friendly", "AC", "Dishwasher", "Balcony"];

            // Greet user when page loads
            React.useEffect(() => {
                if (!hasGreeted) {
                    setTimeout(() => {
                        setChatMessages([{
                            role: 'assistant',
                            content: "Ahoy, Pirate! ðŸ´â€â˜ ï¸ Welcome to Pirate Sublease! I'm here to help you find your next place or answer any questions about subleasing. What can I help you with today?"
                        }]);
                        setHasGreeted(true);
                        // Auto-open chat with greeting
                        setTimeout(() => setChatOpen(true), 500);
                    }, 1500);
                }
            }, [hasGreeted]);

            const sendChatMessage = async () => {
                if (!chatInput.trim()) return;

                const userMessage = chatInput;
                setChatInput('');
                setChatMessages(prev => [...prev, { role: 'user', content: userMessage }]);
                setIsTyping(true);

                try {
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 1000,
                            system: `You are a helpful assistant for Pirate Sublease, a student sublease marketplace for ECU (East Carolina University) in Greenville, NC. 

Help students with:
- Finding apartments and subleases
- Understanding how subleasing works
- Information about the Pirate Verified badge (optional verification with @ecu.edu email)
- General questions about the platform
- Pricing, deposits, utilities, lease terms

Be friendly, helpful, and use pirate-themed language occasionally (like "Ahoy" or "Aye"). Keep responses concise (2-3 sentences max unless they ask for detailed help).

Current listings available: ${listings.length}
Average price: $${Math.round(listings.reduce((sum, l) => sum + l.price, 0) / listings.length)}`,
                            messages: [
                                ...chatMessages.map(msg => ({
                                    role: msg.role,
                                    content: msg.content
                                })),
                                { role: 'user', content: userMessage }
                            ]
                        })
                    });

                    const data = await response.json();
                    const assistantMessage = data.content.find(item => item.type === 'text')?.text || "I'm having trouble responding right now. Please try again!";
                    
                    setChatMessages(prev => [...prev, { role: 'assistant', content: assistantMessage }]);
                } catch (error) {
                    setChatMessages(prev => [...prev, { 
                        role: 'assistant', 
                        content: "Arr, I'm having technical difficulties! Try asking your question again or check out our FAQ page for common questions." 
                    }]);
                }
                
                setIsTyping(false);
            };

            const handleImageUpload = (e) => {
                const files = Array.from(e.target.files);
                if (files.length > 0) {
                    const readers = files.map(file => {
                        return new Promise((resolve) => {
                            const reader = new FileReader();
                            reader.onloadend = () => resolve(reader.result);
                            reader.readAsDataURL(file);
                        });
                    });

                    Promise.all(readers).then(images => {
                        setNewListing(prev => ({
                            ...prev,
                            image: images[0],
                            images: images
                        }));
                    });
                }
            };

            const removeImage = (indexToRemove) => {
                setNewListing(prev => {
                    const newImages = prev.images.filter((_, index) => index !== indexToRemove);
                    return {
                        ...prev,
                        images: newImages,
                        image: newImages[0] || 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop'
                    };
                });
            };

            const filteredListings = listings.filter(listing => {
                const matchesSearch = listing.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                    listing.address.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                    listing.description.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesPrice = listing.price <= priceFilter;
                const matchesBedrooms = bedroomFilter === 'any' || listing.bedrooms === parseInt(bedroomFilter);
                return matchesSearch && matchesPrice && matchesBedrooms;
            });

            const handlePostListing = (e) => {
                e.preventDefault();
                // Check if ECU email was provided and is valid
                const isVerified = newListing.ecuEmail && newListing.ecuEmail.toLowerCase().endsWith('@ecu.edu');
                
                const listing = {
                    ...newListing,
                    id: listings.length + 1,
                    posted: new Date().toISOString().split('T')[0],
                    price: parseFloat(newListing.price),
                    verified: isVerified
                };
                setListings([listing, ...listings]);
                setView('browse');
                setNewListing({
                    title: '',
                    price: '',
                    address: '',
                    dateAvailable: '',
                    dateEnd: '',
                    bedrooms: 1,
                    bathrooms: 1,
                    amenities: [],
                    description: '',
                    contact: '',
                    phone: '',
                    ecuEmail: '',
                    image: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop',
                    images: []
                });
            };

            const toggleAmenity = (amenity) => {
                setNewListing(prev => ({
                    ...prev,
                    amenities: prev.amenities.includes(amenity)
                        ? prev.amenities.filter(a => a !== amenity)
                        : [...prev.amenities, amenity]
                }));
            };

            return (
                <div className="min-h-screen">
                    {/* Navigation */}
                    <nav className="glass-nav sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-6 py-4">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center space-x-3">
                                    <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-purple-600 to-purple-800 flex items-center justify-center">
                                        <span className="text-white font-bold text-xl">âš“</span>
                                    </div>
                                    <span className="text-2xl font-semibold text-gray-900">
                                        Pirate Sublease
                                    </span>
                                </div>
                                <div className="hidden md:flex space-x-1">
                                    <button onClick={() => setView('browse')} className={`nav-link ${view === 'browse' ? 'active' : ''}`}>
                                        Browse
                                    </button>
                                    <button onClick={() => setView('how-it-works')} className={`nav-link ${view === 'how-it-works' ? 'active' : ''}`}>
                                        How It Works
                                    </button>
                                    <button onClick={() => setView('faq')} className={`nav-link ${view === 'faq' ? 'active' : ''}`}>
                                        FAQ
                                    </button>
                                    <button onClick={() => setView('post')} className={`btn-primary ml-2`}>
                                        Post Listing
                                    </button>
                                </div>
                                {/* Mobile menu button */}
                                <div className="md:hidden">
                                    <button onClick={() => setView('post')} className="btn-primary">
                                        Post
                                    </button>
                                </div>
                            </div>
                            {/* Mobile nav tabs */}
                            <div className="md:hidden flex space-x-2 mt-4 overflow-x-auto">
                                <button onClick={() => setView('browse')} className={`nav-link whitespace-nowrap ${view === 'browse' ? 'active' : ''}`}>
                                    Browse
                                </button>
                                <button onClick={() => setView('how-it-works')} className={`nav-link whitespace-nowrap ${view === 'how-it-works' ? 'active' : ''}`}>
                                    How It Works
                                </button>
                                <button onClick={() => setView('faq')} className={`nav-link whitespace-nowrap ${view === 'faq' ? 'active' : ''}`}>
                                    FAQ
                                </button>
                            </div>
                        </div>
                    </nav>

                    {/* How It Works View */}
                    {view === 'how-it-works' && (
                        <main className="max-w-4xl mx-auto px-6 py-16">
                            <h1 className="text-5xl font-bold text-gray-900 mb-6 fade-in">How to Sublease</h1>
                            <p className="text-xl text-gray-600 mb-12 fade-in delay-100">Everything you need to know about subleasing at ECU</p>

                            <div className="space-y-12">
                                <div className="bg-white rounded-3xl p-8 shadow-md fade-in delay-200">
                                    <div className="flex items-start space-x-4">
                                        <div className="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                                            <span className="text-2xl font-bold text-purple-700">1</span>
                                        </div>
                                        <div>
                                            <h2 className="text-2xl font-semibold text-gray-900 mb-3">Find a Place</h2>
                                            <p className="text-gray-700 leading-relaxed">
                                                Browse available listings on Pirate Sublease. Filter by price, bedrooms, location, and amenities to find your perfect match. Click on any listing to see photos, full details, and contact information.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-3xl p-8 shadow-md fade-in delay-300">
                                    <div className="flex items-start space-x-4">
                                        <div className="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                                            <span className="text-2xl font-bold text-purple-700">2</span>
                                        </div>
                                        <div>
                                            <h2 className="text-2xl font-semibold text-gray-900 mb-3">Contact the Owner</h2>
                                            <p className="text-gray-700 leading-relaxed">
                                                Reach out via email or phone to schedule a tour. Ask about utilities, lease terms, move-in dates, and any other questions. It's a good idea to visit the place in person before committing.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-3xl p-8 shadow-md">
                                    <div className="flex items-start space-x-4">
                                        <div className="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                                            <span className="text-2xl font-bold text-purple-700">3</span>
                                        </div>
                                        <div>
                                            <h2 className="text-2xl font-semibold text-gray-900 mb-3">Sign the Sublease Agreement</h2>
                                            <p className="text-gray-700 leading-relaxed">
                                                Once you've found your place, sign a sublease agreement. This should include the rent amount, dates, deposit, and who's responsible for utilities. Make sure the original landlord approves the sublease if required.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white rounded-3xl p-8 shadow-md">
                                    <div className="flex items-start space-x-4">
                                        <div className="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                                            <span className="text-2xl font-bold text-purple-700">4</span>
                                        </div>
                                        <div>
                                            <h2 className="text-2xl font-semibold text-gray-900 mb-3">Move In!</h2>
                                            <p className="text-gray-700 leading-relaxed">
                                                On your move-in date, do a walkthrough with the current tenant. Document any existing damage, get your keys, and you're all set. Don't forget to set up utilities if they're in your name.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="mt-16 bg-gradient-to-br from-purple-50 to-purple-100 rounded-3xl p-10">
                                <h2 className="text-3xl font-bold text-gray-900 mb-4">Want to List Your Place?</h2>
                                <p className="text-lg text-gray-700 mb-6">
                                    If you're looking to sublease your apartment, it's quick and free to post a listing. Just click "Post Listing" and fill out the form with your details and photos.
                                </p>
                                <button onClick={() => setView('post')} className="btn-primary py-3 px-8 text-lg">
                                    Post Your Listing
                                </button>
                            </div>
                        </main>
                    )}

                    {/* FAQ View */}
                    {view === 'faq' && (
                        <main className="max-w-4xl mx-auto px-6 py-16">
                            <h1 className="text-5xl font-bold text-gray-900 mb-6 fade-in">Frequently Asked Questions</h1>
                            <p className="text-xl text-gray-600 mb-12 fade-in delay-100">Got questions? We've got answers.</p>

                            <div className="bg-white rounded-3xl p-8 shadow-md">
                                <div className="faq-item">
                                    <div className="faq-question">What is Pirate Verified?</div>
                                    <div className="faq-answer">
                                        Pirate Verified is an optional badge that shows you're a real ECU student. When posting a listing, you can enter your @ecu.edu student email to get verified. This builds trust with potential renters and helps your listing stand out. Verification is completely optional - you can still post without it.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">What is a sublease?</div>
                                    <div className="faq-answer">
                                        A sublease is when you rent an apartment from someone who's already renting it (the original tenant), rather than directly from the landlord. The original tenant remains responsible to the landlord, and you pay rent to them.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">Do I need landlord approval to sublease?</div>
                                    <div className="faq-answer">
                                        In most cases, yes. Check the original lease agreement - it usually requires written permission from the landlord before subletting. Always get approval in writing to avoid issues.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">How much should I charge for rent?</div>
                                    <div className="faq-answer">
                                        Typically, sublease rent matches what the original tenant pays. However, you might charge slightly less to attract tenants faster, or more if you're providing a furnished place. Check comparable listings on our site.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">What about utilities?</div>
                                    <div className="faq-answer">
                                        This varies. Some subleases include utilities in the rent, others require the subletter to pay their share. Always clarify this upfront and include it in your sublease agreement.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">Do I need a security deposit?</div>
                                    <div className="faq-answer">
                                        It's recommended. A security deposit protects you against damages. Typical amounts are equal to one month's rent. Make sure to document the condition of the apartment when the subletter moves in.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">Can I sublease for just part of my lease?</div>
                                    <div className="faq-answer">
                                        Yes! Many students sublease for summer break, a semester abroad, or a co-op. Just make sure your sublease agreement clearly states the exact dates.
                                    </div>
                                </div>

                                <div className="faq-item">
                                    <div className="faq-question">Is Pirate Sublease free to use?</div>
                                    <div className="faq-answer">
                                        Yes, completely free! You can browse listings and post your own without any fees. We're here to help ECU students find housing.
                                    </div>
                                </div>

                                <div className="faq-item" style={{borderBottom: 'none'}}>
                                    <div className="faq-question">What if I have issues with my subletter?</div>
                                    <div className="faq-answer">
                                        Communication is key. Address problems immediately. If they're not paying rent or violating terms, refer to your sublease agreement. You may need to involve your landlord or seek legal advice for serious issues.
                                    </div>
                                </div>
                            </div>

                            <div className="mt-8 bg-purple-50 rounded-2xl p-8">
                                <h2 className="text-2xl font-semibold text-gray-900 mb-3">Still have questions?</h2>
                                <p className="text-gray-700">
                                    We're here to help! Reach out to other students who've successfully subleased, or contact ECU's off-campus housing resources for additional guidance.
                                </p>
                            </div>
                        </main>
                    )}

                    {/* Browse Listings View - keeping the existing code */}
                    {view === 'browse' && !selectedListing && (
                        <main>
                            <section className="relative py-32 overflow-hidden" style={{
                                background: 'linear-gradient(135deg, #7C3AED 0%, #5B21B6 50%, #4C1D95 100%)'
                            }}>
                                <div className="absolute inset-0 opacity-10" style={{
                                    backgroundImage: 'radial-gradient(circle at 2px 2px, white 1px, transparent 0)',
                                    backgroundSize: '40px 40px'
                                }}></div>
                                
                                <div className="max-w-7xl mx-auto px-6 text-center relative z-10">
                                    <h1 className="text-6xl md:text-7xl font-bold text-white mb-6 fade-in">
                                        Find your next place.
                                    </h1>
                                    <p className="text-xl md:text-2xl text-purple-100 mb-4 max-w-3xl mx-auto fade-in delay-100">
                                        The easiest way for Pirates to sublease their apartments.
                                    </p>
                                    <p className="text-lg text-purple-200 fade-in delay-200">
                                        {filteredListings.length} listings available
                                    </p>
                                </div>
                            </section>

                            <section className="max-w-7xl mx-auto px-6 -mt-8 mb-16">
                                <div className="bg-white rounded-3xl shadow-xl p-8 fade-in delay-300">
                                    <div className="grid md:grid-cols-3 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-3">Search</label>
                                            <input
                                                type="text"
                                                placeholder="Location, amenities..."
                                                value={searchTerm}
                                                onChange={(e) => setSearchTerm(e.target.value)}
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-3">
                                                Max Price â€” ${priceFilter}
                                            </label>
                                            <input
                                                type="range"
                                                min="200"
                                                max="1000"
                                                step="50"
                                                value={priceFilter}
                                                onChange={(e) => setPriceFilter(e.target.value)}
                                                className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-700"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-3">Bedrooms</label>
                                            <select
                                                value={bedroomFilter}
                                                onChange={(e) => setBedroomFilter(e.target.value)}
                                            >
                                                <option value="any">Any</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4+</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section className="max-w-7xl mx-auto px-6 pb-20">
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {filteredListings.map((listing, index) => (
                                        <div 
                                            key={listing.id} 
                                            className={`listing-card bg-white rounded-2xl overflow-hidden shadow-md cursor-pointer fade-in delay-${(index % 3 + 1) * 100}`}
                                            onClick={() => { setSelectedListing(listing); setView('details'); }}
                                        >
                                            <img 
                                                src={listing.image} 
                                                alt={listing.title} 
                                                className="w-full h-56 object-cover"
                                            />
                                            <div className="p-6">
                                                <div className="flex justify-between items-start mb-3">
                                                    <h3 className="text-xl font-semibold text-gray-900 flex-1 flex items-center gap-2">
                                                        {listing.title}
                                                        {listing.verified && (
                                                            <span className="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                                                <svg className="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fillRule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd"/>
                                                                </svg>
                                                                Pirate Verified
                                                            </span>
                                                        )}
                                                    </h3>
                                                </div>
                                                <p className="text-gray-600 text-sm mb-4">{listing.address}</p>
                                                
                                                <div className="flex items-center justify-between mb-4">
                                                    <div className="flex items-center space-x-4 text-sm text-gray-600">
                                                        <span>{listing.bedrooms} bd</span>
                                                        <span>{listing.bathrooms} ba</span>
                                                    </div>
                                                    <div className="price-badge">${listing.price}</div>
                                                </div>

                                                <div className="flex flex-wrap gap-2">
                                                    {listing.amenities.slice(0, 3).map(amenity => (
                                                        <span key={amenity} className="amenity-pill">
                                                            {amenity}
                                                        </span>
                                                    ))}
                                                    {listing.amenities.length > 3 && (
                                                        <span className="amenity-pill">
                                                            +{listing.amenities.length - 3}
                                                        </span>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {filteredListings.length === 0 && (
                                    <div className="text-center py-20">
                                        <p className="text-2xl text-gray-600 mb-2">No listings found</p>
                                        <p className="text-gray-500">Try adjusting your search filters</p>
                                    </div>
                                )}
                            </section>
                        </main>
                    )}

                    {/* Details View - keeping existing */}
                    {view === 'details' && selectedListing && (
                        <main className="max-w-5xl mx-auto px-6 py-12">
                            <button 
                                onClick={() => { setView('browse'); setSelectedListing(null); }}
                                className="mb-8 flex items-center text-purple-700 hover:text-purple-900 font-medium"
                            >
                                <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                </svg>
                                Back
                            </button>

                            <div className="bg-white rounded-3xl shadow-xl overflow-hidden fade-in">
                                {selectedListing.images && selectedListing.images.length > 0 ? (
                                    <div>
                                        <img src={selectedListing.images[0]} alt={selectedListing.title} className="w-full h-96 object-cover"/>
                                        {selectedListing.images.length > 1 && (
                                            <div className="grid grid-cols-4 gap-3 p-6 bg-gray-50">
                                                {selectedListing.images.slice(1, 5).map((img, index) => (
                                                    <img key={index} src={img} alt={`View ${index + 2}`} className="w-full h-24 object-cover rounded-xl"/>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                ) : (
                                    <img src={selectedListing.image} alt={selectedListing.title} className="w-full h-96 object-cover"/>
                                )}

                                <div className="p-10">
                                    <div className="flex justify-between items-start mb-8">
                                        <div>
                                            <h1 className="text-4xl font-bold text-gray-900 mb-3 flex items-center gap-3">
                                                {selectedListing.title}
                                                {selectedListing.verified && (
                                                    <span className="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-purple-100 text-purple-800">
                                                        <svg className="w-4 h-4 mr-1.5" fill="currentColor" viewBox="0 0 20 20">
                                                            <path fillRule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd"/>
                                                        </svg>
                                                        Pirate Verified
                                                    </span>
                                                )}
                                            </h1>
                                            <p className="text-xl text-gray-600">{selectedListing.address}</p>
                                        </div>
                                        <div className="text-right">
                                            <div className="text-5xl font-bold text-purple-700">${selectedListing.price}</div>
                                            <div className="text-gray-500 mt-1">per month</div>
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-6 mb-8">
                                        <div className="bg-purple-50 rounded-2xl p-6">
                                            <div className="text-sm text-gray-600 mb-2">Available From</div>
                                            <div className="text-lg font-semibold text-gray-900">
                                                {new Date(selectedListing.dateAvailable).toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}
                                            </div>
                                        </div>
                                        <div className="bg-purple-50 rounded-2xl p-6">
                                            <div className="text-sm text-gray-600 mb-2">Available Until</div>
                                            <div className="text-lg font-semibold text-gray-900">
                                                {new Date(selectedListing.dateEnd).toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}
                                            </div>
                                        </div>
                                    </div>

                                    <div className="flex space-x-8 mb-8 text-lg">
                                        <div className="flex items-center">
                                            <span className="font-semibold text-gray-900">{selectedListing.bedrooms}</span>
                                            <span className="text-gray-600 ml-2">Bedroom{selectedListing.bedrooms > 1 ? 's' : ''}</span>
                                        </div>
                                        <div className="flex items-center">
                                            <span className="font-semibold text-gray-900">{selectedListing.bathrooms}</span>
                                            <span className="text-gray-600 ml-2">Bathroom{selectedListing.bathrooms > 1 ? 's' : ''}</span>
                                        </div>
                                    </div>

                                    <div className="mb-8">
                                        <h2 className="text-2xl font-semibold text-gray-900 mb-4">About this place</h2>
                                        <p className="text-lg text-gray-700 leading-relaxed">{selectedListing.description}</p>
                                    </div>

                                    <div className="mb-8">
                                        <h2 className="text-2xl font-semibold text-gray-900 mb-4">Amenities</h2>
                                        <div className="flex flex-wrap gap-3">
                                            {selectedListing.amenities.map(amenity => (
                                                <span key={amenity} className="amenity-pill text-base">
                                                    {amenity}
                                                </span>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-8">
                                        <h2 className="text-2xl font-semibold text-gray-900 mb-6">Contact</h2>
                                        <div className="space-y-4">
                                            <div>
                                                <div className="text-sm text-gray-600 mb-1">Email</div>
                                                <a href={`mailto:${selectedListing.contact}`} className="text-lg text-purple-700 hover:text-purple-900 font-medium">
                                                    {selectedListing.contact}
                                                </a>
                                            </div>
                                            <div>
                                                <div className="text-sm text-gray-600 mb-1">Phone</div>
                                                <a href={`tel:${selectedListing.phone}`} className="text-lg text-purple-700 hover:text-purple-900 font-medium">
                                                    {selectedListing.phone}
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </main>
                    )}

                    {/* Post Listing View - keeping existing form */}
                    {view === 'post' && (
                        <main className="max-w-3xl mx-auto px-6 py-12">
                            <div className="bg-white rounded-3xl shadow-xl p-10 fade-in">
                                <h1 className="text-4xl font-bold text-gray-900 mb-2">List your place</h1>
                                <p className="text-lg text-gray-600 mb-10">Fill out the details below to post your sublease</p>
                                
                                <form onSubmit={handlePostListing} className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Title</label>
                                        <input
                                            type="text"
                                            required
                                            placeholder="Modern 2BR near campus"
                                            value={newListing.title}
                                            onChange={(e) => setNewListing({...newListing, title: e.target.value})}
                                        />
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Monthly Rent</label>
                                            <input
                                                type="number"
                                                required
                                                min="0"
                                                placeholder="450"
                                                value={newListing.price}
                                                onChange={(e) => setNewListing({...newListing, price: e.target.value})}
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Address</label>
                                            <input
                                                type="text"
                                                required
                                                placeholder="123 Main St"
                                                value={newListing.address}
                                                onChange={(e) => setNewListing({...newListing, address: e.target.value})}
                                            />
                                        </div>
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Available From</label>
                                            <input
                                                type="date"
                                                required
                                                value={newListing.dateAvailable}
                                                onChange={(e) => setNewListing({...newListing, dateAvailable: e.target.value})}
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Available Until</label>
                                            <input
                                                type="date"
                                                required
                                                value={newListing.dateEnd}
                                                onChange={(e) => setNewListing({...newListing, dateEnd: e.target.value})}
                                            />
                                        </div>
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Bedrooms</label>
                                            <select
                                                required
                                                value={newListing.bedrooms}
                                                onChange={(e) => setNewListing({...newListing, bedrooms: parseInt(e.target.value)})}
                                            >
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4+</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Bathrooms</label>
                                            <select
                                                required
                                                value={newListing.bathrooms}
                                                onChange={(e) => setNewListing({...newListing, bathrooms: parseInt(e.target.value)})}
                                            >
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4+</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">Amenities</label>
                                        <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
                                            {amenityOptions.map(amenity => (
                                                <label key={amenity} className="flex items-center space-x-3 cursor-pointer p-3 rounded-xl hover:bg-gray-50">
                                                    <input
                                                        type="checkbox"
                                                        checked={newListing.amenities.includes(amenity)}
                                                        onChange={() => toggleAmenity(amenity)}
                                                        className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500 cursor-pointer"
                                                    />
                                                    <span className="text-sm text-gray-700">{amenity}</span>
                                                </label>
                                            ))}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                        <textarea
                                            required
                                            rows="4"
                                            placeholder="Describe your place..."
                                            value={newListing.description}
                                            onChange={(e) => setNewListing({...newListing, description: e.target.value})}
                                        />
                                    </div>

                                    {/* Optional Pirate Verified Section */}
                                    <div className="bg-purple-50 rounded-2xl p-6 border-2 border-purple-200">
                                        <div className="flex items-start gap-3 mb-3">
                                            <svg className="w-6 h-6 text-purple-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                                <path fillRule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd"/>
                                            </svg>
                                            <div className="flex-1">
                                                <h3 className="text-lg font-semibold text-gray-900 mb-2">Get Pirate Verified (Optional)</h3>
                                                <p className="text-sm text-gray-700 mb-4">
                                                    Verify your listing with your ECU student email to build trust with renters. This is completely optional.
                                                </p>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    ECU Student Email (Optional)
                                                </label>
                                                <input
                                                    type="email"
                                                    placeholder="yourname@ecu.edu"
                                                    value={newListing.ecuEmail}
                                                    onChange={(e) => setNewListing({...newListing, ecuEmail: e.target.value})}
                                                    className="bg-white"
                                                />
                                                <p className="text-xs text-gray-600 mt-2">
                                                    âš“ Must be an @ecu.edu email to receive the Pirate Verified badge
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">Photos</label>
                                        <div className="border-2 border-dashed border-gray-300 rounded-2xl p-8 text-center hover:border-purple-400 transition">
                                            <input
                                                type="file"
                                                accept="image/*"
                                                multiple
                                                onChange={handleImageUpload}
                                                className="hidden"
                                                id="image-upload"
                                            />
                                            <label htmlFor="image-upload" className="cursor-pointer">
                                                <svg className="w-12 h-12 mx-auto text-gray-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                </svg>
                                                <p className="text-gray-600 font-medium mb-1">Upload photos</p>
                                                <p className="text-sm text-gray-500">Click to browse</p>
                                            </label>
                                        </div>
                                        
                                        {newListing.images.length > 0 && (
                                            <div className="mt-4 grid grid-cols-4 gap-3">
                                                {newListing.images.map((img, index) => (
                                                    <div key={index} className="relative group">
                                                        <img src={img} alt={`Upload ${index + 1}`} className="w-full h-24 object-cover rounded-xl"/>
                                                        <button
                                                            type="button"
                                                            onClick={() => removeImage(index)}
                                                            className="absolute top-2 right-2 bg-red-500 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition"
                                                        >
                                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Contact Email</label>
                                            <input
                                                type="email"
                                                required
                                                placeholder="your.email@gmail.com"
                                                value={newListing.contact}
                                                onChange={(e) => setNewListing({...newListing, contact: e.target.value})}
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Phone</label>
                                            <input
                                                type="tel"
                                                required
                                                placeholder="(252) 555-0123"
                                                value={newListing.phone}
                                                onChange={(e) => setNewListing({...newListing, phone: e.target.value})}
                                            />
                                        </div>
                                    </div>

                                    <div className="flex gap-4 pt-4">
                                        <button type="submit" className="btn-primary flex-1 py-4 text-lg">
                                            Post Listing
                                        </button>
                                        <button
                                            type="button"
                                            onClick={() => setView('browse')}
                                            className="btn-secondary py-4 px-8 text-lg"
                                        >
                                            Cancel
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </main>
                    )}

                    {/* Chatbot Widget */}
                    <div className="fixed bottom-6 right-6 z-50">
                        {/* Chat Window */}
                        {chatOpen && (
                            <div className="mb-4 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-3xl shadow-2xl overflow-hidden fade-in">
                                {/* Header */}
                                <div className="bg-gradient-to-r from-purple-600 to-purple-800 p-4 flex justify-between items-center">
                                    <div className="flex items-center gap-2">
                                        <div className="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center">
                                            <span className="text-2xl">ðŸ´â€â˜ ï¸</span>
                                        </div>
                                        <div>
                                            <h3 className="text-white font-semibold">Pirate Assistant</h3>
                                            <p className="text-purple-200 text-xs">Always ready to help</p>
                                        </div>
                                    </div>
                                    <button 
                                        onClick={() => setChatOpen(false)}
                                        className="text-white hover:bg-white/20 rounded-full p-2"
                                    >
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>

                                {/* Messages */}
                                <div className="h-96 overflow-y-auto p-4 space-y-4 bg-gray-50">
                                    {chatMessages.map((msg, idx) => (
                                        <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                            <div className={`max-w-[80%] rounded-2xl px-4 py-2 ${
                                                msg.role === 'user' 
                                                    ? 'bg-purple-600 text-white' 
                                                    : 'bg-white text-gray-800 shadow-sm'
                                            }`}>
                                                {msg.content}
                                            </div>
                                        </div>
                                    ))}
                                    {isTyping && (
                                        <div className="flex justify-start">
                                            <div className="bg-white text-gray-800 rounded-2xl px-4 py-3 shadow-sm">
                                                <div className="flex space-x-2">
                                                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                                                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.1s'}}></div>
                                                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></div>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>

                                {/* Input */}
                                <div className="p-4 bg-white border-t">
                                    <div className="flex gap-2">
                                        <input
                                            type="text"
                                            placeholder="Ask me anything..."
                                            value={chatInput}
                                            onChange={(e) => setChatInput(e.target.value)}
                                            onKeyPress={(e) => e.key === 'Enter' && sendChatMessage()}
                                            className="flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        />
                                        <button
                                            onClick={sendChatMessage}
                                            disabled={!chatInput.trim() || isTyping}
                                            className="btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed"
                                        >
                                            Send
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Chat Button */}
                        <button
                            onClick={() => setChatOpen(!chatOpen)}
                            className="w-16 h-16 bg-gradient-to-r from-purple-600 to-purple-800 rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform"
                        >
                            {chatOpen ? (
                                <svg className="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            ) : (
                                <>
                                    <span className="text-3xl">ðŸ’¬</span>
                                    {chatMessages.length > 0 && !chatOpen && (
                                        <span className="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold">
                                            {chatMessages.filter(m => m.role === 'assistant').length}
                                        </span>
                                    )}
                                </>
                            )}
                        </button>
                    </div>

                    {/* Footer */}
                    <footer className="bg-gray-50 border-t border-gray-200 py-8 mt-20">
                        <div className="max-w-7xl mx-auto px-6 text-center">
                            <p className="text-gray-600">Pirate Sublease - Made for ECU Students</p>
                            <p className="text-sm text-gray-500 mt-2">Find your perfect sublease in Greenville</p>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
